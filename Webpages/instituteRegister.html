<!DOCTYPE html>
<Html>

<head>
    <title>
        Registration Page
    </title>
    <style>
        body {
            background-color: lightskyblue;
            /* width: 50%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            text-align: center; */
        }

        /* input[type="submit"] {
            height: 50px;
            width: 150px;
        } */
    </style>
</head>

<body>
    <form>
    <br>
    <br>
        <label> Institute Name </label>
        <input type="text" name="instituteName" size="15" id="instituteName" /> <br> <br>
        <label> Email </label>
        <input type="text" name="email" size="15" id="email" /> <br> <br>
        <label> Phone </label>
        <input type="text" name="phone" size="15" id="phone" /> <br> <br>
        <label> Address </label>
        <input type="text" name="address" size="15" id="address" /> <br> <br>
        <label> State </label>
        <input type="text" name="state" size="15" id="state" /> <br> <br>
        <label> Pincode </label>
        <input type="text" name="pincode" size="15" id="pincode" /> <br> <br>

        <label> Password </label>
        <input type="password" name="password" size="15" id="password" /> <br> <br>
        <br>
        <br>
        <div class="btn">
            <button type="button" onclick="register()">Submit</button>
        </div>
        </form>

    <script>
        function register() {
            const url = "http://localhost:4000/api/instituteRegister";
            const data = {
                instituteName: document.getElementById('instituteName').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                address: document.getElementById('address').value,
                state: document.getElementById('state').value,
                pincode: document.getElementById('pincode').value,
                password: document.getElementById('password').value,
            };

            fetch(url, {
                method: "POST",
                headers: {
                    "Content-Type": "application/json",
                },
                body: JSON.stringify(data),
            })
                .then((response) => response.json())
                .then((data) => {
                    console.log(data);
                    if(data.success==true){
                        document.cookie = `token=${data.token};  path=/`;
                        window.location.href='./addLab.html'
                    }
                })
                .catch((error) => console.error(error));

        }
    </script>
</body>

</html>